<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golden Idol Clone</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; }
        .scene { width: 80%; max-width: 800px; position: relative; }
        .clue { position: absolute; width: 50px; height: 50px; cursor: pointer; }
        .popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border: 1px solid black; }
        .popup img { max-width: 100%; margin-top: 10px; }
        .word-bank { margin-top: 20px; }
        .word { display: inline-block; padding: 10px; background: lightgray; margin: 5px; cursor: grab; }
        .character-identification { margin-top: 20px; }
        .character { display: flex; align-items: center; justify-content: center; margin-bottom: 10px; }
        .character img { width: 50px; height: 50px; margin-right: 10px; }
        .madlib { margin-top: 20px; }
        .blank { display: inline-block; width: 100px; height: 30px; border: 1px solid black; text-align: center; line-height: 30px; background: white; }
        #win-message, #characters-solved-message { display: none; font-size: 24px; color: green; }
        .clue img { width: 100%; height: 100%; }
        .clue.unclicked img { content: url('clue-animation-unclicked.gif'); }
        .clue.clicked img { content: url('clue-animation-clicked.gif'); }
    </style>
</head>
<body>
    <h1>Golden Idol Clone</h1>
    <div class="scene">
        <img src="scene.gif" alt="Scene" width="100%">
        <div class="clue unclicked" style="top: 30%; left: 40%;" onclick="showPopup(this, 'A blood-stained knife.', 'knife.png')">
            <img src="clue-animation-unclicked.gif" alt="Clue Animation">
        </div>
        <div class="clue unclicked" style="top: 50%; left: 60%;" onclick="showPopup(this, 'A suspicious letter.', 'letter.png')">
            <img src="clue-animation-unclicked.gif" alt="Clue Animation">
        </div>
    </div>
    
    <div id="popup" class="popup">
        <p id="popup-text"></p>
        <img id="popup-image" src="" alt="" style="display: none;">
        <button onclick="hidePopup()">Close</button>
    </div>
    
    <div class="word-bank">
        <h2>Word Bank</h2>
        <div class="word" draggable="true" ondragstart="drag(event)" id="word1">John</div>
        <div class="word" draggable="true" ondragstart="drag(event)" id="word2">Doe</div>
        <div class="word" draggable="true" ondragstart="drag(event)" id="word3">Murder</div>
        <div class="word" draggable="true" ondragstart="drag(event)" id="word4">Knife</div>
        <div class="word" draggable="true" ondragstart="drag(event)" id="word5">Suspect</div>
    </div>
    
    <div class="character-identification">
        <h2>Identify the Characters:</h2>
        <div class="character">
            <img src="character1.png" alt="Character 1">
            <span class="blank" ondrop="drop(event)" ondragover="allowDrop(event)" id="first1"></span>
            <span class="blank" ondrop="drop(event)" ondragover="allowDrop(event)" id="last1"></span>
        </div>
        <button onclick="checkCharacters()">Submit</button>
    </div>
    <p id="characters-solved-message">Good job! You figured out the characters!</p>
    
    <div class="madlib">
        <h2>Fill in the blanks:</h2>
        <p>The victim was killed with a <span class="blank" ondrop="drop(event)" ondragover="allowDrop(event)" id="slot1"></span> and the main suspect is a <span class="blank" ondrop="drop(event)" ondragover="allowDrop(event)" id="slot2"></span>.</p>
        <button onclick="checkSolution()">Submit</button>
    </div>
    
    <p id="win-message">Good job! You solved the mystery!</p>
    
    <script>
        const correctCharacters = { first1: "word1", last1: "word2" };
        const correctMadlib = { slot1: "word4", slot2: "word5" };
        
        function checkCharacters() {
            for (let id in correctCharacters) {
                if (document.getElementById(id).getAttribute("data-word") !== correctCharacters[id]) {
                    alert("Incorrect characters!");
                    return;
                }
            }
            document.getElementById('characters-solved-message').style.display = 'block';
        }
        
        function checkSolution() {
            for (let id in correctMadlib) {
                if (document.getElementById(id).getAttribute("data-word") !== correctMadlib[id]) {
                    alert("Try again!");
                    return;
                }
            }
            document.getElementById('win-message').style.display = 'block';
        }
    </script>
</body>
</html>
